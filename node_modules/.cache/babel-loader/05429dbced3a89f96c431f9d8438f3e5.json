{"ast":null,"code":"// @ts-nocheck\nvar baseURL = \"https://websdk.sawolabs.com\";\n\nclass Sawo {\n  constructor(e) {\n    this.config = e, this.config.hostName = window.location.hostname, this.iframeID = Math.random().toString(36).substring(2, 15) + \"sawo-iframe\", this.eventPrefix = Math.random().toString(36).substring(2, 15), // attaching event \n    window.addEventListener(\"message\", e => {\n      if (e.origin === baseURL) switch (e.data.event) {\n        case this.eventPrefix + \"LOGIN_SUCCESS\":\n          this.config.onSuccess && this.config.onSuccess(e.data.payload), this.removeForm();\n          break;\n\n        case this.eventPrefix + \"LOAD_SUCCESS\":\n          document.getElementById(this.iframeID).contentWindow.postMessage({\n            event: this.eventPrefix + \"LOAD_CONFIG\",\n            payload: {\n              identifierType: this.config.identifierType,\n              apiKey: this.config.apiKey,\n              hostName: this.config.hostName\n            }\n          }, \"*\");\n          break;\n\n        default:\n          console.log(e.data);\n      }\n    });\n  }\n\n  showForm() {\n    var e = document.getElementById(this.config.containerID),\n        t = document.createElement(\"iframe\");\n    t.id = this.iframeID, t.style.border = 0, e.appendChild(t), t.style.width = \"100%\", t.style.height = \"100%\", t.style.overflow = \"scroll\";\n    var i = `${baseURL}/?eventPrefix=${this.eventPrefix}`;\n    t.setAttribute(\"src\", encodeURI(i));\n  }\n\n  removeForm() {\n    document.getElementById(this.iframeID).remove();\n  }\n\n}\n\nexport default Sawo;","map":{"version":3,"sources":["C:/Users/KIIT/Documents/Github/react-app/sawo-examples/react/node_modules/sawo/sawo.js"],"names":["baseURL","Sawo","constructor","e","config","hostName","window","location","hostname","iframeID","Math","random","toString","substring","eventPrefix","addEventListener","origin","data","event","onSuccess","payload","removeForm","document","getElementById","contentWindow","postMessage","identifierType","apiKey","console","log","showForm","containerID","t","createElement","id","style","border","appendChild","width","height","overflow","i","setAttribute","encodeURI","remove"],"mappings":"AAAA;AACA,IAAIA,OAAO,GAAG,6BAAd;;AAEA,MAAMC,IAAN,CAAW;AAEPC,EAAAA,WAAW,CAACC,CAAD,EAAI;AACX,SAAKC,MAAL,GAAcD,CAAd,EACI,KAAKC,MAAL,CAAYC,QAAZ,GAAuBC,MAAM,CAACC,QAAP,CAAgBC,QAD3C,EAEI,KAAKC,QAAL,GAAgBC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,SAA3B,CAAqC,CAArC,EAAwC,EAAxC,IAA8C,aAFlE,EAGI,KAAKC,WAAL,GAAmBJ,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,SAA3B,CAAqC,CAArC,EAAwC,EAAxC,CAHvB,EAKI;AACAP,IAAAA,MAAM,CAACS,gBAAP,CAAwB,SAAxB,EAAmCZ,CAAC,IAAI;AACpC,UAAIA,CAAC,CAACa,MAAF,KAAahB,OAAjB,EAA0B,QAAQG,CAAC,CAACc,IAAF,CAAOC,KAAf;AACtB,aAAK,KAAKJ,WAAL,GAAmB,eAAxB;AACI,eAAKV,MAAL,CAAYe,SAAZ,IAAyB,KAAKf,MAAL,CAAYe,SAAZ,CAAsBhB,CAAC,CAACc,IAAF,CAAOG,OAA7B,CAAzB,EAAgE,KAAKC,UAAL,EAAhE;AACA;;AACJ,aAAK,KAAKP,WAAL,GAAmB,cAAxB;AACIQ,UAAAA,QAAQ,CAACC,cAAT,CAAwB,KAAKd,QAA7B,EAAuCe,aAAvC,CAAqDC,WAArD,CAAiE;AAC7DP,YAAAA,KAAK,EAAE,KAAKJ,WAAL,GAAmB,aADmC;AAE7DM,YAAAA,OAAO,EAAE;AACLM,cAAAA,cAAc,EAAE,KAAKtB,MAAL,CAAYsB,cADvB;AAELC,cAAAA,MAAM,EAAE,KAAKvB,MAAL,CAAYuB,MAFf;AAGLtB,cAAAA,QAAQ,EAAE,KAAKD,MAAL,CAAYC;AAHjB;AAFoD,WAAjE,EAOG,GAPH;AAQA;;AACJ;AACIuB,UAAAA,OAAO,CAACC,GAAR,CAAY1B,CAAC,CAACc,IAAd;AAfkB;AAiB7B,KAlBD,CANJ;AAyBH;;AAEDa,EAAAA,QAAQ,GAAG;AACP,QAAI3B,CAAC,GAAGmB,QAAQ,CAACC,cAAT,CAAwB,KAAKnB,MAAL,CAAY2B,WAApC,CAAR;AAAA,QACIC,CAAC,GAAGV,QAAQ,CAACW,aAAT,CAAuB,QAAvB,CADR;AAEID,IAAAA,CAAC,CAACE,EAAF,GAAO,KAAKzB,QAAZ,EAAsBuB,CAAC,CAACG,KAAF,CAAQC,MAAR,GAAiB,CAAvC,EAA0CjC,CAAC,CAACkC,WAAF,CAAcL,CAAd,CAA1C,EAA4DA,CAAC,CAACG,KAAF,CAAQG,KAAR,GAAgB,MAA5E,EAAoFN,CAAC,CAACG,KAAF,CAAQI,MAAR,GAAiB,MAArG,EAA6GP,CAAC,CAACG,KAAF,CAAQK,QAAR,GAAmB,QAAhI;AACJ,QAAIC,CAAC,GAAI,GAAEzC,OAAQ,iBAAgB,KAAKc,WAAY,EAApD;AACAkB,IAAAA,CAAC,CAACU,YAAF,CAAe,KAAf,EAAsBC,SAAS,CAACF,CAAD,CAA/B;AACH;;AAEDpB,EAAAA,UAAU,GAAG;AACTC,IAAAA,QAAQ,CAACC,cAAT,CAAwB,KAAKd,QAA7B,EAAuCmC,MAAvC;AACH;;AAxCM;;AA2CX,eAAe3C,IAAf","sourcesContent":["// @ts-nocheck\nvar baseURL = \"https://websdk.sawolabs.com\";\n\nclass Sawo {\n\n    constructor(e) {\n        this.config = e,\n            this.config.hostName = window.location.hostname,\n            this.iframeID = Math.random().toString(36).substring(2, 15) + \"sawo-iframe\",\n            this.eventPrefix = Math.random().toString(36).substring(2, 15),\n\n            // attaching event \n            window.addEventListener(\"message\", e => {\n                if (e.origin === baseURL) switch (e.data.event) {\n                    case this.eventPrefix + \"LOGIN_SUCCESS\":\n                        this.config.onSuccess && this.config.onSuccess(e.data.payload), this.removeForm();\n                        break;\n                    case this.eventPrefix + \"LOAD_SUCCESS\":\n                        document.getElementById(this.iframeID).contentWindow.postMessage({\n                            event: this.eventPrefix + \"LOAD_CONFIG\",\n                            payload: {\n                                identifierType: this.config.identifierType,\n                                apiKey: this.config.apiKey,\n                                hostName: this.config.hostName\n                            }\n                        }, \"*\");\n                        break;\n                    default:\n                        console.log(e.data)\n                }\n            })\n    }\n\n    showForm() {\n        var e = document.getElementById(this.config.containerID),\n            t = document.createElement(\"iframe\");\n            t.id = this.iframeID, t.style.border = 0, e.appendChild(t), t.style.width = \"100%\", t.style.height = \"100%\", t.style.overflow = \"scroll\";\n        var i = `${baseURL}/?eventPrefix=${this.eventPrefix}`;\n        t.setAttribute(\"src\", encodeURI(i))\n    }\n\n    removeForm() {\n        document.getElementById(this.iframeID).remove()\n    }\n\n}\nexport default Sawo;"]},"metadata":{},"sourceType":"module"}